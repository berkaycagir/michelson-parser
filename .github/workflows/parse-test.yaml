name: "Parse test"

on:
  push:
    branches: [ main ]

jobs:
  test:
    name: Test
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@8ade135a41bc03ea155e62e844d188df1ea18608 # v4
      - uses: actions/setup-node@v3
      - run: npm install --save moo
      - run: npm install -g moo
      - run: npm install --save nearley
      - run: npm install -g nearley
      - uses: actions/setup-python@v4
        with:
          python-version: '3.10'
      - uses: GuillaumeFalourd/clone-github-repo-action@v3
        with:
          owner: 'berkaycagir'
          repository: 'michelson-test-scripts'
          access-token: ${{ secrets.ACCESS_TOKEN }}
      - run: python3 michelson-test-scripts/test.py
